<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
{% extends 'settings_app/base.html' %}
{% block content %}
<div class="d-flex justify-content-between align-items-center mb-3">
  <h3>Danh sách nhân viên</h3>
  <a class="btn btn-success" href="{% url 'settings:staff_add' %}">Thêm nhân viên</a>
</div>

<table class="table table-striped">
  <thead>
    <tr><th>Tên</th><th>Email</th><th>Vai trò</th><th>Ngày tham gia</th><th>Hành động</th></tr>
  </thead>
  <tbody>
    {% for s in staffs %}
    <tr>
      <td>{{ s.get_full_name|default:s.username }}</td>
      <td>{{ s.email }}</td>
      <td>{% if s.is_staff %}Nhân viên{% else %}User{% endif %}</td>
      <td>{{ s.date_joined|date:"Y-m-d" }}</td>
      <td>
        <a class="btn btn-sm btn-primary" href="{% url 'settings:staff_edit' s.pk %}">Sửa</a>
        <form action="{% url 'settings:staff_delete' s.pk %}" method="post" style="display:inline">
          {% csrf_token %}
          <button type="submit" class="btn btn-sm btn-danger" onclick="return confirm('Bạn chắc chắn xóa?')">Xóa</button>
        </form>
      </td>
    </tr>
    {% empty %}
    <tr><td colspan="5">Không có nhân viên</td></tr>
    {% endfor %}
  </tbody>
</table>
{% endblock %}

</body>
</html>